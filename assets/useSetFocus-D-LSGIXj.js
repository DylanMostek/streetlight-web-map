import{a as f}from"./index-Cmp1vh1M.js";import{c as g}from"./component-DXdqgJWg.js";import{g as v,f as C}from"./dom-yxfQT3DA.js";const L=()=>f((e,n)=>{let t;function r(){t?.abort()}return n.onLoad(()=>{e.listen("focus",()=>{t=new AbortController,e.el.addEventListener("focusout",r,{signal:t.signal})})}),n.onDisconnected(()=>{e.el.removeEventListener("focusout",r)}),async(s,a)=>{if(e.disabled)return;const o=E(s());if(!o)return;const{target:u,includeContainer:l,strategy:c}=o,i=v(e.el),d=i.activeElement;if(await g(e),!(d!==i.activeElement||t&&!t?.signal.aborted))return e.el.removeEventListener("focus",r),C(u,l,c,e.el,a)}});function m(e){return"target"in e&&("includeContainer"in e||"strategy"in e)}function E(e){if(e)return m(e)?e:{target:e}}export{L as u};
