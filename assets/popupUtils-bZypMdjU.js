import{dh as c,di as r}from"./index-CjJDErFa.js";async function b(e,p=e.popupTemplate){if(p==null)return[];const t=await p.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:i}=p,{objectIdField:u,typeIdField:a,globalIdField:n,relationships:o}=e;if(t.includes("*"))return["*"];const s=i?c(e):[],l=r(e.fieldsIndex,[...t,...s]);return a&&l.push(a),l&&u&&e.fieldsIndex?.has(u)&&!l.includes(u)&&l.push(u),l&&n&&e.fieldsIndex?.has(n)&&!l.includes(n)&&l.push(n),o?.forEach(f=>{const{keyField:d}=f;l&&d&&e.fieldsIndex?.has(d)&&!l.includes(d)&&l.push(d)}),l}function h(e,p){return e&&typeof e=="object"?p?.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:p!=null&&p.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function I(e,p){return h(e,{defaultPopupTemplateEnabled:p})!=null}export{h as n,b as p,I as u};
