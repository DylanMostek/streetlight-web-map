import{a as Se}from"./index-Dp4kyDY7.js";import{p as Ne,f as Fe}from"./dom-DLkDj_3u.js";import{iW as Ee}from"./index-CCjLDPmS.js";var de=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],G=de.join(","),ve=typeof Element>"u",O=ve?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,_=!ve&&Element.prototype.getRootNode?function(a){var e;return a==null||(e=a.getRootNode)===null||e===void 0?void 0:e.call(a)}:function(a){return a?.ownerDocument},V=function(e,t){var r;t===void 0&&(t=!0);var u=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=u===""||u==="true",n=s||t&&e&&(typeof e.closest=="function"?e.closest("[inert]"):V(e.parentNode));return n},ke=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},be=function(e,t,r){if(V(e))return[];var u=Array.prototype.slice.apply(e.querySelectorAll(G));return t&&O.call(e,G)&&u.unshift(e),u=u.filter(r),u},q=function(e,t,r){for(var u=[],s=Array.from(e);s.length;){var n=s.shift();if(!V(n,!1))if(n.tagName==="SLOT"){var l=n.assignedElements(),f=l.length?l:n.children,g=q(f,!0,r);r.flatten?u.push.apply(u,g):u.push({scopeParent:n,candidates:g})}else{var w=O.call(n,G);w&&r.filter(n)&&(t||!e.includes(n))&&u.push(n);var T=n.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(n),R=!V(T,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(n));if(T&&R){var C=q(T===!0?n.children:T.children,!0,r);r.flatten?u.push.apply(u,C):u.push({scopeParent:n,candidates:C})}else s.unshift.apply(s,n.children)}}return u},he=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},I=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ke(e))&&!he(e)?0:e.tabIndex},Ae=function(e,t){var r=I(e);return r<0&&t&&!he(e)?0:r},Re=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},pe=function(e){return e.tagName==="INPUT"},De=function(e){return pe(e)&&e.type==="hidden"},Ie=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Oe=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Ce=function(e){if(!e.name)return!0;var t=e.form||_(e),r=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},u;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")u=r(window.CSS.escape(e.name));else try{u=r(e.name)}catch(n){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",n.message),!1}var s=Oe(u,e.form);return!s||s===e},Pe=function(e){return pe(e)&&e.type==="radio"},je=function(e){return Pe(e)&&!Ce(e)},xe=function(e){var t,r=e&&_(e),u=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var n,l,f;for(s=!!((n=u)!==null&&n!==void 0&&(l=n.ownerDocument)!==null&&l!==void 0&&l.contains(u)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!s&&u;){var g,w,T;r=_(u),u=(g=r)===null||g===void 0?void 0:g.host,s=!!((w=u)!==null&&w!==void 0&&(T=w.ownerDocument)!==null&&T!==void 0&&T.contains(u))}}return s},ie=function(e){var t=e.getBoundingClientRect(),r=t.width,u=t.height;return r===0&&u===0},Le=function(e,t){var r=t.displayCheck,u=t.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var s=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(e).visibility==="hidden")return!0;var n=O.call(e,"details>summary:first-of-type"),l=n?e.parentElement:e;if(O.call(l,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof u=="function"){for(var f=e;e;){var g=e.parentElement,w=_(e);if(g&&!g.shadowRoot&&u(g)===!0)return ie(e);e.assignedSlot?e=e.assignedSlot:!g&&w!==e.ownerDocument?e=w.host:e=g}e=f}if(xe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ie(e);return!1},Be=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var u=t.children.item(r);if(u.tagName==="LEGEND")return O.call(t,"fieldset[disabled] *")?!0:!u.contains(e)}return!0}t=t.parentElement}return!1},U=function(e,t){return!(t.disabled||De(t)||Le(t,e)||Ie(t)||Be(t))},z=function(e,t){return!(je(t)||I(t)<0||!U(e,t))},Ke=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ye=function(e){var t=[],r=[];return e.forEach(function(u,s){var n=!!u.scopeParent,l=n?u.scopeParent:u,f=Ae(l,n),g=n?ye(u.candidates):l;f===0?n?t.push.apply(t,g):t.push(l):r.push({documentOrder:s,tabIndex:f,item:u,isScope:n,content:g})}),r.sort(Re).reduce(function(u,s){return s.isScope?u.push.apply(u,s.content):u.push(s.content),u},[]).concat(t)},Me=function(e,t){t=t||{};var r;return t.getShadowRoot?r=q([e],t.includeContainer,{filter:z.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Ke}):r=be(e,t.includeContainer,z.bind(null,t)),ye(r)},Ge=function(e,t){t=t||{};var r;return t.getShadowRoot?r=q([e],t.includeContainer,{filter:U.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=be(e,t.includeContainer,U.bind(null,t)),r},P=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return O.call(e,G)===!1?!1:z(t,e)},_e=de.concat("iframe:not([inert]):not([inert] *)").join(","),Z=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return O.call(e,_e)===!1?!1:U(t,e)};function X(a,e){(e==null||e>a.length)&&(e=a.length);for(var t=0,r=Array(e);t<e;t++)r[t]=a[t];return r}function Ve(a){if(Array.isArray(a))return X(a)}function oe(a,e){var t=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!t){if(Array.isArray(a)||(t=me(a))||e){t&&(a=t);var r=0,u=function(){};return{s:u,n:function(){return r>=a.length?{done:!0}:{done:!1,value:a[r++]}},e:function(f){throw f},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,n=!0,l=!1;return{s:function(){t=t.call(a)},n:function(){var f=t.next();return n=f.done,f},e:function(f){l=!0,s=f},f:function(){try{n||t.return==null||t.return()}finally{if(l)throw s}}}}function qe(a,e,t){return(e=Ze(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ue(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function We(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ue(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable})),t.push.apply(t,r)}return t}function se(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ue(Object(t),!0).forEach(function(r){qe(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function Ye(a){return Ve(a)||Ue(a)||me(a)||We()}function He(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function Ze(a){var e=He(a,"string");return typeof e=="symbol"?e:e+""}function me(a,e){if(a){if(typeof a=="string")return X(a,e);var t={}.toString.call(a).slice(8,-1);return t==="Object"&&a.constructor&&(t=a.constructor.name),t==="Map"||t==="Set"?Array.from(a):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?X(a,e):void 0}}var E={getActiveTrap:function(e){return e?.length>0?e[e.length-1]:null},activateTrap:function(e,t){var r=E.getActiveTrap(e);t!==r&&E.pauseTrap(e);var u=e.indexOf(t);u===-1||e.splice(u,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),E.unpauseTrap(e)},pauseTrap:function(e){var t=E.getActiveTrap(e);t?._setPausedState(!0)},unpauseTrap:function(e){var t=E.getActiveTrap(e);t&&!t._isManuallyPaused()&&t._setPausedState(!1)}},ze=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Xe=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},L=function(e){return e?.key==="Tab"||e?.keyCode===9},$e=function(e){return L(e)&&!e.shiftKey},Je=function(e){return L(e)&&e.shiftKey},ce=function(e){return setTimeout(e,0)},x=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),u=1;u<t;u++)r[u-1]=arguments[u];return typeof e=="function"?e.apply(void 0,r):e},K=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Qe=[],et=function(e,t){var r=t?.document||document,u=t?.trapStack||Qe,s=se({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isolateSubtrees:!1,isKeyForward:$e,isKeyBackward:Je},t),n={containers:[],containerGroups:[],tabbableGroups:[],adjacentElements:new Set,alreadySilent:new Set,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,f=function(i,o,c){return i&&i[o]!==void 0?i[o]:s[c||o]},g=function(i,o){var c=typeof o?.composedPath=="function"?o.composedPath():void 0;return n.containerGroups.findIndex(function(b){var v=b.container,h=b.tabbableNodes;return v.contains(i)||c?.includes(v)||h.find(function(d){return d===i})})},w=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.hasFallback,b=c===void 0?!1:c,v=o.params,h=v===void 0?[]:v,d=s[i];if(typeof d=="function"&&(d=d.apply(void 0,Ye(h))),d===!0&&(d=void 0),!d){if(d===void 0||d===!1)return d;throw new Error("`".concat(i,"` was specified but was not a node, or did not return a node"))}var p=d;if(typeof d=="string"){try{p=r.querySelector(d)}catch(y){throw new Error("`".concat(i,'` appears to be an invalid selector; error="').concat(y.message,'"'))}if(!p&&!b)throw new Error("`".concat(i,"` as selector refers to no known node"))}return p},T=function(){var i=w("initialFocus",{hasFallback:!0});if(i===!1)return!1;if(i===void 0||i&&!Z(i,s.tabbableOptions))if(g(r.activeElement)>=0)i=r.activeElement;else{var o=n.tabbableGroups[0],c=o&&o.firstTabbableNode;i=c||w("fallbackFocus")}else i===null&&(i=w("fallbackFocus"));if(!i)throw new Error("Your focus-trap needs to have at least one focusable element");return i},R=function(){if(n.containerGroups=n.containers.map(function(i){var o=Me(i,s.tabbableOptions),c=Ge(i,s.tabbableOptions),b=o.length>0?o[0]:void 0,v=o.length>0?o[o.length-1]:void 0,h=c.find(function(y){return P(y)}),d=c.slice().reverse().find(function(y){return P(y)}),p=!!o.find(function(y){return I(y)>0});return{container:i,tabbableNodes:o,focusableNodes:c,posTabIndexesFound:p,firstTabbableNode:b,lastTabbableNode:v,firstDomTabbableNode:h,lastDomTabbableNode:d,nextTabbableNode:function(S){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,N=o.indexOf(S);return N<0?F?c.slice(c.indexOf(S)+1).find(function(D){return P(D)}):c.slice(0,c.indexOf(S)).reverse().find(function(D){return P(D)}):o[N+(F?1:-1)]}}}),n.tabbableGroups=n.containerGroups.filter(function(i){return i.tabbableNodes.length>0}),n.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(n.containerGroups.find(function(i){return i.posTabIndexesFound})&&n.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},C=function(i){var o=i.activeElement;if(o)return o.shadowRoot&&o.shadowRoot.activeElement!==null?C(o.shadowRoot):o},k=function(i){if(i!==!1&&i!==C(document)){if(!i||!i.focus){k(T());return}i.focus({preventScroll:!!s.preventScroll}),n.mostRecentlyFocusedNode=i,ze(i)&&i.select()}},$=function(i){var o=w("setReturnFocus",{params:[i]});return o||(o===!1?!1:i)},J=function(i){var o=i.target,c=i.event,b=i.isBackward,v=b===void 0?!1:b;o=o||K(c),R();var h=null;if(n.tabbableGroups.length>0){var d=g(o,c),p=d>=0?n.containerGroups[d]:void 0;if(d<0)v?h=n.tabbableGroups[n.tabbableGroups.length-1].lastTabbableNode:h=n.tabbableGroups[0].firstTabbableNode;else if(v){var y=n.tabbableGroups.findIndex(function(Y){var H=Y.firstTabbableNode;return o===H});if(y<0&&(p.container===o||Z(o,s.tabbableOptions)&&!P(o,s.tabbableOptions)&&!p.nextTabbableNode(o,!1))&&(y=d),y>=0){var S=y===0?n.tabbableGroups.length-1:y-1,F=n.tabbableGroups[S];h=I(o)>=0?F.lastTabbableNode:F.lastDomTabbableNode}else L(c)||(h=p.nextTabbableNode(o,!1))}else{var N=n.tabbableGroups.findIndex(function(Y){var H=Y.lastTabbableNode;return o===H});if(N<0&&(p.container===o||Z(o,s.tabbableOptions)&&!P(o,s.tabbableOptions)&&!p.nextTabbableNode(o))&&(N=d),N>=0){var D=N===n.tabbableGroups.length-1?0:N+1,A=n.tabbableGroups[D];h=I(o)>=0?A.firstTabbableNode:A.firstDomTabbableNode}else L(c)||(h=p.nextTabbableNode(o))}}else h=w("fallbackFocus");return h},B=function(i){var o=K(i);if(!(g(o,i)>=0)){if(x(s.clickOutsideDeactivates,i)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}x(s.allowOutsideClick,i)||i.preventDefault()}},Q=function(i){var o=K(i),c=g(o,i)>=0;if(c||o instanceof Document)c&&(n.mostRecentlyFocusedNode=o);else{i.stopImmediatePropagation();var b,v=!0;if(n.mostRecentlyFocusedNode)if(I(n.mostRecentlyFocusedNode)>0){var h=g(n.mostRecentlyFocusedNode),d=n.containerGroups[h].tabbableNodes;if(d.length>0){var p=d.findIndex(function(y){return y===n.mostRecentlyFocusedNode});p>=0&&(s.isKeyForward(n.recentNavEvent)?p+1<d.length&&(b=d[p+1],v=!1):p-1>=0&&(b=d[p-1],v=!1))}}else n.containerGroups.some(function(y){return y.tabbableNodes.some(function(S){return I(S)>0})})||(v=!1);else v=!1;v&&(b=J({target:n.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(n.recentNavEvent)})),k(b||n.mostRecentlyFocusedNode||T())}n.recentNavEvent=void 0},ge=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n.recentNavEvent=i;var c=J({event:i,isBackward:o});c&&(L(i)&&i.preventDefault(),k(c))},ee=function(i){(s.isKeyForward(i)||s.isKeyBackward(i))&&ge(i,s.isKeyBackward(i))},te=function(i){Xe(i)&&x(s.escapeDeactivates,i)!==!1&&(i.preventDefault(),l.deactivate())},ae=function(i){var o=K(i);g(o,i)>=0||x(s.clickOutsideDeactivates,i)||x(s.allowOutsideClick,i)||(i.preventDefault(),i.stopImmediatePropagation())},re=function(){if(n.active)return E.activateTrap(u,l),n.delayInitialFocusTimer=s.delayInitialFocus?ce(function(){k(T())}):k(T()),r.addEventListener("focusin",Q,!0),r.addEventListener("mousedown",B,{capture:!0,passive:!1}),r.addEventListener("touchstart",B,{capture:!0,passive:!1}),r.addEventListener("click",ae,{capture:!0,passive:!1}),r.addEventListener("keydown",ee,{capture:!0,passive:!1}),r.addEventListener("keydown",te),l},we=function(i){n.active&&!n.paused&&l._setSubtreeIsolation(!1),n.adjacentElements.clear(),n.alreadySilent.clear();var o=new Set,c=new Set,b=oe(i),v;try{for(b.s();!(v=b.n()).done;){var h=v.value;o.add(h);for(var d=typeof ShadowRoot<"u"&&h.getRootNode()instanceof ShadowRoot,p=h;p;){o.add(p);var y=p.parentElement,S=[];y?S=y.children:!y&&d&&(S=p.getRootNode().children,y=p.getRootNode().host,d=typeof ShadowRoot<"u"&&y.getRootNode()instanceof ShadowRoot);var F=oe(S),N;try{for(F.s();!(N=F.n()).done;){var D=N.value;c.add(D)}}catch(A){F.e(A)}finally{F.f()}p=y}}}catch(A){b.e(A)}finally{b.f()}o.forEach(function(A){c.delete(A)}),n.adjacentElements=c},ne=function(){if(n.active)return r.removeEventListener("focusin",Q,!0),r.removeEventListener("mousedown",B,!0),r.removeEventListener("touchstart",B,!0),r.removeEventListener("click",ae,!0),r.removeEventListener("keydown",ee,!0),r.removeEventListener("keydown",te),l},Te=function(i){var o=i.some(function(c){var b=Array.from(c.removedNodes);return b.some(function(v){return v===n.mostRecentlyFocusedNode})});o&&k(T())},W=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Te):void 0,j=function(){W&&(W.disconnect(),n.active&&!n.paused&&n.containers.map(function(i){W.observe(i,{subtree:!0,childList:!0})}))};return l={get active(){return n.active},get paused(){return n.paused},activate:function(i){if(n.active)return this;var o=f(i,"onActivate"),c=f(i,"onPostActivate"),b=f(i,"checkCanFocusTrap"),v=E.getActiveTrap(u),h=!1;if(v&&!v.paused){var d;(d=v._setSubtreeIsolation)===null||d===void 0||d.call(v,!1),h=!0}try{b||R(),n.active=!0,n.paused=!1,n.nodeFocusedBeforeActivation=C(r),o?.();var p=function(){b&&R(),re(),j(),s.isolateSubtrees&&l._setSubtreeIsolation(!0),c?.()};if(b)return b(n.containers.concat()).then(p,p),this;p()}catch(S){if(v===E.getActiveTrap(u)&&h){var y;(y=v._setSubtreeIsolation)===null||y===void 0||y.call(v,!0)}throw S}return this},deactivate:function(i){if(!n.active)return this;var o=se({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},i);clearTimeout(n.delayInitialFocusTimer),n.delayInitialFocusTimer=void 0,n.paused||l._setSubtreeIsolation(!1),n.alreadySilent.clear(),ne(),n.active=!1,n.paused=!1,j(),E.deactivateTrap(u,l);var c=f(o,"onDeactivate"),b=f(o,"onPostDeactivate"),v=f(o,"checkCanReturnFocus"),h=f(o,"returnFocus","returnFocusOnDeactivate");c?.();var d=function(){ce(function(){h&&k($(n.nodeFocusedBeforeActivation)),b?.()})};return h&&v?(v($(n.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(i){return n.active?(n.manuallyPaused=!0,this._setPausedState(!0,i)):this},unpause:function(i){return n.active?(n.manuallyPaused=!1,u[u.length-1]!==this?this:this._setPausedState(!1,i)):this},updateContainerElements:function(i){var o=[].concat(i).filter(Boolean);return n.containers=o.map(function(c){return typeof c=="string"?r.querySelector(c):c}),s.isolateSubtrees&&we(n.containers),n.active&&(R(),s.isolateSubtrees&&!n.paused&&l._setSubtreeIsolation(!0)),j(),this}},Object.defineProperties(l,{_isManuallyPaused:{value:function(){return n.manuallyPaused}},_setPausedState:{value:function(i,o){if(n.paused===i)return this;if(n.paused=i,i){var c=f(o,"onPause"),b=f(o,"onPostPause");c?.(),ne(),j(),l._setSubtreeIsolation(!1),b?.()}else{var v=f(o,"onUnpause"),h=f(o,"onPostUnpause");v?.(),l._setSubtreeIsolation(!0),R(),re(),j(),h?.()}return this}},_setSubtreeIsolation:{value:function(i){s.isolateSubtrees&&n.adjacentElements.forEach(function(o){var c;i?s.isolateSubtrees==="aria-hidden"?((o.ariaHidden==="true"||((c=o.getAttribute("aria-hidden"))===null||c===void 0?void 0:c.toLowerCase())==="true")&&n.alreadySilent.add(o),o.setAttribute("aria-hidden","true")):((o.inert||o.hasAttribute("inert"))&&n.alreadySilent.add(o),o.setAttribute("inert",!0)):n.alreadySilent.has(o)||(s.isolateSubtrees==="aria-hidden"?o.removeAttribute("aria-hidden"):o.removeAttribute("inert"))})}}}),l.updateContainerElements(e),l};const M=new WeakSet;function tt(a,e){return M.has(a)||Fe(e),!1}function at(a,e){const t=e?.fallbackFocus||a,r=e?.clickOutsideDeactivates??!0;return{fallbackFocus:t,...e,document:a.ownerDocument,tabbableOptions:Ne,trapStack:Ee,clickOutsideDeactivates:u=>(M.has(a)||M.add(a),typeof r=="function"?r(u):r),onPostDeactivate:()=>{M.delete(a)},setReturnFocus:u=>{const s=typeof e?.setReturnFocus=="function"?e.setReturnFocus(u):e?.setReturnFocus;return s===void 0?tt(a,u):s}}}function le(a,{focusTrapOptions:e},t){return!e?.extraContainers&&!t?a:[a,...fe(e?.extraContainers),...fe(t)]}function fe(a=[]){return Array.isArray(a)?a:[a]}const ot=a=>Se((e,t)=>{let r,u,s;const n=a.focusTrapOptions;t.onConnected(()=>{e[a.triggerProp]&&r&&l.activate()}),t.onUpdate(f=>{e.hasUpdated&&f.has("focusTrapDisabled")&&(e.focusTrapDisabled?l.deactivate():l.activate())}),t.onDisconnected(()=>l.deactivate());const l={activate:()=>{const f=u||e.el;if(f.isConnected){if(!r){const g={...n,...e.focusTrapOptions};s||=le(f,e),r=et(s,at(f,g))}(typeof e.focusTrapDisabledOverride=="function"?!e.focusTrapDisabledOverride():!e.focusTrapDisabled)&&r.activate()}},deactivate:()=>r?.deactivate(),overrideFocusTrapEl:f=>{if(r)throw new Error("Focus trap already created");u=f},setExtraContainers:f=>{const g=u||e.el;s=le(g,e,f)},updateContainerElements:()=>r?.updateContainerElements(s)};return l});export{ot as u};
